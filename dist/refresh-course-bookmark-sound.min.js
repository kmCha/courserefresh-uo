!function(){function e(e){var t,n,o,r,c,a,l=[],i=null;for(t=0,n=e.elements.length;n>t;t++)switch(i=e.elements[t],i.type){case"select-one":case"select-multiple":if(i.name.length)for(o=0,r=i.options.length;r>o;o++)c=i.options[o],c.selected&&(a="",a=c.hasAttribute?c.hasAttribute("value")?c.value:c.text:c.attributes.value.specified?c.value:c.text,l.push(encodeURIComponent(i.name)+"="+encodeURIComponent(a)));break;case void 0:case"file":case"submit":case"reset":case"button":break;case"radio":case"checkbox":if(!i.checked)break;default:i.name.length&&l.push(encodeURIComponent(i.name)+"="+encodeURIComponent(i.value))}return l.join("&")}function t(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject){if("string"!=typeof arguments.callee.activeXString){var e,t,n=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"];for(e=0,t=n.length;t>e;e++)try{var o=new ActiveXObject(n[e]);return arguments.callee.activeXString=n[e],o}catch(r){}}return new ActiveXObject(arguments.callee.activeXString)}throw new Error("No XHR object available.")}function n(){o?(r.open("post",a.action,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(e(a))):l.innerHTML="自动刷课还没开始哦，先选择学期再按一下保存的书签"}if(!document.querySelector("#courseInfo")){var o=document.querySelector("#_ctl0__Template_btnCourseGo"),r=t(),c=0,a=document.querySelector("form"),l=document.createElement("p"),i=document.createElement("div");l.style.padding="10px 20px",l.style.border="2px dotted #7e7e7e",l.style.textAlign="center",l.style.color="red",l.style.fontSize="2em",l.id="courseInfo",document.querySelector("body").appendChild(l);var u=document.createElement("audio");u.src="http://7xoxzw.com1.z0.glb.clouddn.com/successSound.mp3",u.preload="auto";var s=document.createElement("audio");s.src="http://7xoxzw.com1.z0.glb.clouddn.com/failSound.mp3",s.preload="auto",r.onreadystatechange=function(e){if(4==r.readyState)if(c>0&&document.querySelector("body").removeChild(i),r.status>=200&&r.status<300||304==r.status){if(r.responseText.indexOf("_ctl0__Template_dlstSection__ctl0_cbxSection")>=0){u.play();var t=setInterval(function(){if(u.currentTime>0){var e=confirm("这个课有位置了，赶紧的！要自动选就按确定");e===!0?(clearInterval(t),o.click()):clearInterval(t)}},100);return}if(r.responseText.indexOf("Your session has expired")>=0){s.play();var a=setInterval(function(){s.currentTime>0&&(clearInterval(a),alert("登陆时间到了，重新登录再来吧"),l.innerHTML="水课哪里跑：尝试"+ ++c+"次后，还是没有位置，rabaska让你重新登录了")},100);return}i.innerHTML=r.responseText,l.innerHTML="水课哪里跑：尝试"+ ++c+"次",document.querySelector("body").appendChild(i),setTimeout(n,1500)}else alert("服务器错误，刷新试试")},n()}}();